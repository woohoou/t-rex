{"version":3,"sources":["assets/images/100-offline-sprite.png","assets/sounds/press.ogx","assets/sounds/reach.ogx","assets/sounds/hit.ogx","reducers/game.js","reducers/index.js","containers/StartGame.js","actions/index.js","components/Header.js","game/definitions.js","game/input.js","game/actor.js","game/horizon.js","game/cloud.js","game/cactus.js","game/cactus-small.js","game/cactus-large.js","game/pterodactyl.js","game/trex.js","game/soundfx.js","game/index.js","components/Scene.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","gameReducer","state","action","type","isRunning","combineReducers","game","connect","dispatch","startGame","e","stopGame","onClick","call","Header","className","sceneDefinition","SIZE","width","height","spriteDefinition","CACTUS_LARGE","x","y","CACTUS_SMALL","CLOUD","HORIZON","MOON","PTERODACTYL","heightDiff","RESTART","TEXT_SPRITE","TREX","widthDiff","STAR","CHARACTER_INPUT","JUMP","DOWN","GAME_INPUT","gameInstance","keydownFn","Object","keys","forEach","includes","keyCode","handleInput","character","keyupFn","Actor","name","sceneSize","spriteSize","this","actorProperties","Math","random","spawnRange","Horizon","updatePosition","speed","requestAnimationFrame","bind","coordinates","push","Cloud","ySeed","setTimeout","spawnSeed","floor","yRange","Cactus","cactusCount","countSeed","CactusSmall","CactusLarge","Pterodactyl","upWingsDirection","speedSeed","animate","speedRange","Trex","STATES","STAND","RUNNING","JUMPING","DEATH","STATE_POSITION","STAND_0","STAND_1","JUMPING_0","JUMPING_1","RUNNING_0","RUNNING_1","DEATH_0","DEATH_1","DOWN_0","DOWN_1","isJumping","offsetY","position","actorHeight","spriteX","spriteY","actorWidth","actorX","actorY","raise","fall","keyAction","soundFx","playSound","jump","SoundFx","press","Audio","src","pressSound","reach","reachSound","hit","hitSound","sound","play","Game","canvas","document","querySelector","ctx","getContext","image","Image","sprite","onload","initialize","levelDuration","firstTimeoutId","lastTimeoutId","removeEventListener","addEventListener","score","actors","removePendingActions","draw","increaseSpeed","generateClouds","generateCactus","generatePterodactyls","clearTimeout","i","timeoutId","setInterval","clearRect","actor","drawCoordinates","drawImage","Scene","prevProps","prevState","snapshot","props","id","React","Component","App","Boolean","window","location","hostname","match","store","createStore","rootReducer","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"sFAAAA,EAAOC,QAAU,k+G,mBCAjBD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,+JCW5BC,EAXK,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCAC1C,OAAOA,EAAOC,MACZ,IAAK,aACH,OAAO,eAAMF,EAAb,CAAoBG,WAAW,IACjC,IAAK,YACH,OAAO,eAAMH,EAAb,CAAoBG,WAAW,IACjC,QACE,OAAOH,ICJEI,cAAgB,CAC7BC,S,gBCwCaC,G,MAAAA,aAZS,SAAAN,GAAK,MAAK,CAChCG,UAAWH,EAAMK,KAAKF,cAGG,SAAAI,GAAQ,MAAK,CACtCC,UAAW,SAACC,GAEVF,ECvC4B,CAC9BL,KAAM,gBDwCNQ,SAAU,kBAAMH,ECrCa,CAC7BL,KAAM,kBDuCOI,EAtBG,SAAC,GAAwC,IAAtCH,EAAqC,EAArCA,UAAWO,EAA0B,EAA1BA,SAAUF,EAAgB,EAAhBA,UACxC,OACE,4BACEG,QAAU,SAAAF,GAAC,OAAIN,EAAYO,EAASE,U,GAAaJ,EAAUI,U,KAE1DT,EAAY,YAAc,kBEflBU,EATA,WACb,OACE,4BAAQC,UAAU,cAAlB,mBAEE,kBAAC,EAAD,Q,4BCLOC,EAEH,CACJC,KAAM,CAAEC,MAAO,IAAKC,OAAQ,MAMrBC,EAEH,CACFH,KAAM,CAAEC,MAAO,KAAMC,OAAQ,IAC7BE,aAAc,CAAEC,EAAG,IAAKC,EAAG,EAAGL,MAAO,IAAKC,OAAQ,IAClDK,aAAc,CAAEF,EAAG,IAAKC,EAAG,EAAGL,MAAO,IAAKC,OAAQ,IAClDM,MAAO,CAAEH,EAAG,GAAIC,EAAG,EAAGL,MAAO,GAAIC,OAAQ,IACzCO,QAAS,CAAEJ,EAAG,EAAGC,EAAG,GAAIL,MAAO,KAAMC,OAAQ,IAC7CQ,KAAM,CAAEL,EAAG,IAAKC,EAAG,GACnBK,YAAa,CAAEN,EAAG,IAAKC,EAAG,EAAGL,MAAO,GAAIC,OAAQ,GAAIU,WAAY,GAChEC,QAAS,CAAER,EAAG,EAAGC,EAAG,GACpBQ,YAAa,CAAET,EAAG,IAAKC,EAAG,GAC1BS,KAAM,CAAEV,EAAG,IAAKC,EAAG,EAAGL,MAAO,GAAIC,OAAQ,GAAIc,UAAW,GAAIJ,WAAY,IACxEK,KAAM,CAAEZ,EAAG,IAAKC,EAAG,I,iCCxBdY,EAAkB,CAC7BC,KAAM,CAAC,GAAI,IACXC,KAAM,CAAC,KAGIC,EAAa,CACxBR,QAAS,CAAC,KAGRS,EAAe,KAEbC,EAAY,SAAC9B,GACjB+B,OAAOC,KAAKJ,GAAYK,SAAQ,SAACzC,GAC5BoC,EAAWpC,GAAQ0C,SAASlC,EAAEmC,UAC/BN,EAAaO,YAAY5C,EAAQ,cAGrCuC,OAAOC,KAAKP,GAAiBQ,SAAQ,SAACzC,GACjCiC,EAAgBjC,GAAQ0C,SAASlC,EAAEmC,UACpCN,EAAaQ,UAAUD,YAAY5C,EAAQ,eAI3C8C,EAAU,SAACtC,GACf+B,OAAOC,KAAKJ,GAAYK,SAAQ,SAACzC,GAC5BoC,EAAWpC,GAAQ0C,SAASlC,EAAEmC,UAC/BN,EAAaO,YAAY5C,EAAQ,YAGrCuC,OAAOC,KAAKP,GAAiBQ,SAAQ,SAACzC,GACjCiC,EAAgBjC,GAAQ0C,SAASlC,EAAEmC,UACpCN,EAAaQ,UAAUD,YAAY5C,EAAQ,aC1B3C+C,E,WAYJ,WAAYC,EAAMX,GAAe,yBAXjCY,UAAYnC,EAAe,KAWK,KAVhCoC,WAAahC,EAAgB,KAUG,KAThCE,EAAI,EAS4B,KARhCC,EAAI,EASF8B,KAAKH,KAAOA,EACZG,KAAKd,aAAeA,EACpBc,KAAKC,gBAAkBlC,EAAiB8B,G,8DAcxC,MAAO,CAAC,CACNG,KAAKC,gBAAL,EACAD,KAAKC,gBAAL,EACAD,KAAKC,gBAAL,MACAD,KAAKC,gBAAL,OACAD,KAAK/B,EACL+B,KAAK9B,EACL8B,KAAKC,gBAAL,MACAD,KAAKC,gBAAL,Y,mCAfF,OAAOC,KAAKC,UAAYH,KAAKI,WAAW,GAAGJ,KAAKI,WAAW,IAAMJ,KAAKI,WAAW,O,KAtB/ER,EAKGQ,WAAa,CAAC,EAAG,GAqCXR,QCMAS,E,kDAlDb,WAAYnB,GAAe,IAAD,8BACxB,cAAM,UAAWA,IAEZjB,EAAI,EACT,EAAKC,EAAI,EAAK4B,UAAL,OAAyB,EAAKG,gBAAL,OAElC,EAAKK,iBANmB,E,6DAUxBN,KAAK/B,GAAK+B,KAAKd,aAAaqB,MAC5BC,sBAAsBR,KAAKM,eAAeG,KAAKT,S,wCAQ5CA,KAAKC,gBAAL,EAA0BD,KAAK/B,GAAK+B,KAAKC,gBAAL,QACrCD,KAAK/B,EAAI,GAGX,IAAIyC,EAAc,CAAC,CACjBV,KAAKC,gBAAL,EAA0BD,KAAK/B,EAC/B+B,KAAKC,gBAAL,EACAD,KAAKF,UAAL,MACAE,KAAKC,gBAAL,OACA,EACAD,KAAK9B,EACL8B,KAAKF,UAAL,MACAE,KAAKC,gBAAL,SAeF,OAZGD,KAAKC,gBAAL,EAA0BD,KAAK/B,EAAE+B,KAAKF,UAAL,OAA2BE,KAAKC,gBAAL,OAC7DS,EAAYC,KAAK,CACfX,KAAKC,gBAAL,EAA0BD,KAAK/B,EAAE+B,KAAKC,gBAAL,MACjCD,KAAKC,gBAAL,EACAD,KAAKF,UAAL,MACAE,KAAKC,gBAAL,OACA,EACAD,KAAK9B,EACL8B,KAAKF,UAAL,MACAE,KAAKC,gBAAL,SAGGS,M,GA/CWd,GCAhBgB,E,kDAIJ,WAAY1B,GAAe,IAAD,8BACxB,cAAM,QAASA,IAEVjB,EAAI,EAAK6B,UAAL,MACT,EAAK5B,EAAI0C,EAAMC,QAEf,EAAKP,iBANmB,E,6DAaR,IAAD,OACfN,KAAK/B,GAAK,GACP+B,KAAK/B,EAAE+B,KAAKC,gBAAL,MAAgC,EACxCa,YAAW,WACT,EAAK7C,EAAI,EAAK6B,UAAL,MACT,EAAK5B,EAAI0C,EAAMC,QACfL,sBAAsB,EAAKF,eAAeG,KAAK,MAC1B,IAApBG,EAAMG,aAETP,sBAAsBR,KAAKM,eAAeG,KAAKT,U,+BAZjD,OAAOE,KAAKc,MAAMd,KAAKC,UAAYS,EAAMK,OAAO,GAAKL,EAAMK,OAAO,IAAML,EAAMK,OAAO,Q,GAdrErB,GAAdgB,EACGR,WAAa,CAAC,GAAI,GADrBQ,EAEGK,OAAS,CAAC,IAAK,IA6BTL,QC/BTM,E,kDAGJ,WAAYrB,EAAMX,GAAe,IAAD,8BAC9B,cAAMW,EAAMX,IAEPjB,EAAI,EAAK6B,UAAL,MACT,EAAK5B,EAAI,EAAK4B,UAAL,OAAyB,EAAKG,gBAAL,OAClC,EAAKkB,YAAc,EAEnB,EAAKb,iBAPyB,E,oDAW9B,OAAQN,KAAKC,gBAAL,MAA8B,EAAGD,KAAKmB,c,wCAQ9C,MAAO,CAAC,CACNnB,KAAKC,gBAAL,EACAD,KAAKC,gBAAL,EACAD,KAAKnC,QACLmC,KAAKC,gBAAL,OACAD,KAAK/B,EACL+B,KAAK9B,EACL8B,KAAKnC,QACLmC,KAAKC,gBAAL,W,uCAIc,IAAD,OACfD,KAAK/B,GAAK+B,KAAKd,aAAaqB,MACzBP,KAAK/B,EAAE+B,KAAKnC,QAAU,EACvBiD,YAAW,WACT,EAAK7C,EAAI,EAAK6B,UAAL,MACT,EAAKqB,YAAcD,EAAOE,YAC1BZ,sBAAsB,EAAKF,eAAeG,KAAK,MACzB,IAArBS,EAAOH,aAEVP,sBAAsBR,KAAKM,eAAeG,KAAKT,U,mCAzBjD,OAAOE,KAAKc,MAAO,EAAAd,KAAKC,SAAiB,O,GAlBxBP,GAAfsB,EACGd,WAAa,CAAC,EAAG,GA+CXc,QC1CAG,E,kDALb,WAAYnC,GAAe,uCACnB,eAAgBA,G,UAFAgC,GCMXI,E,kDALb,WAAYpC,GAAe,uCACnB,eAAgBA,G,UAFAgC,GCApBK,E,kDAKJ,WAAYrC,GAAe,IAAD,8BACxB,cAAM,cAAeA,IAEhBjB,EAAI,EAAK6B,UAAL,MACT,EAAK5B,EAAIqD,EAAYV,QAErB,EAAKW,kBAAmB,EACxB,EAAKjB,MAAQ,EAAKrB,aAAaqB,MAAQgB,EAAYE,YACnD,EAAKnB,iBACL,EAAKoB,UATmB,E,sDAoBf,IAAD,OACRZ,YAAY,WACV,EAAKU,kBAAoB,EAAKA,iBAC9B,EAAKE,YACJ,O,uCAGa,IAAD,OACf1B,KAAK/B,GAAK+B,KAAKO,MACZP,KAAK/B,EAAE+B,KAAKC,gBAAL,MAAgC,EACxCa,YAAW,WACT,EAAK7C,EAAI,EAAK6B,UAAL,MACT,EAAKS,MAAQ,EAAKrB,aAAaqB,MAAQgB,EAAYE,YACnD,EAAKvD,EAAIqD,EAAYV,QACrBL,sBAAsB,EAAKF,eAAeG,KAAK,MACpB,IAA1Bc,EAAYR,aAEfP,sBAAsBR,KAAKM,eAAeG,KAAKT,S,wCAKjD,MAAO,CAAC,CACNA,KAAKC,gBAAL,GAA2BD,KAAKwB,iBAAmBxB,KAAKC,gBAAL,MAAgC,GACnFD,KAAKC,gBAAL,EACAD,KAAKC,gBAAL,MACAD,KAAKC,gBAAL,OACAD,KAAK/B,EACL+B,KAAK9B,EACL8B,KAAKC,gBAAL,MACAD,KAAKC,gBAAL,Y,+BArCF,OAAOC,KAAKc,MAAMd,KAAKC,UAAYH,KAAKiB,OAAO,GAAKjB,KAAKiB,OAAO,IAAMjB,KAAKiB,OAAO,M,kCAIlF,OAAOf,KAAKc,MAAMd,KAAKC,UAAYH,KAAK2B,WAAW,GAAK3B,KAAK2B,WAAW,IAAM3B,KAAK2B,WAAW,Q,GAtBxE/B,GAApB2B,EACGnB,WAAa,CAAC,GAAI,GADrBmB,EAEGN,OAAS,CAAC,IAAK,IAFlBM,EAGGI,WAAa,CAAC,IAAM,IAyDdJ,QCiFAK,E,kDAlHb,WAAY1C,GAAe,IAAD,8BACxB,cAAM,OAAQA,IA3BhB2C,OAAS,CACPC,MAAO,QACPC,QAAS,UACTC,QAAS,UACTC,MAAO,QACPjD,KAAM,QAqBkB,EAlB1BkD,eAAiB,CACfC,QAAS,EACTC,QAAS,EACTC,UAAW,EACXC,UAAW,EACXC,UAAW,EACXC,UAAW,EACXC,QAAS,EACTC,QAAS,EACTC,OAAQ,EACRC,OAAQ,GAQgB,EAL1BhG,MAAQ,UAKkB,EAJ1BiG,WAAY,EAIc,EAH1BC,QAAU,EAGgB,EAF1BC,UAAW,EAIT,EAAKrB,UAFmB,E,wDAKd9E,GACVoD,KAAKpD,MAAQA,I,+BAIb,OAAO,K,+BAIP,OAAOoD,KAAK8C,QAAU9C,KAAKF,UAAL,OAA2BE,KAAKgD,gB,gCAItD,GAAkB,SAAfhD,KAAKpD,MAAkB,CACxB,IAAIqB,EAAI+B,KAAKC,gBAAL,EAGR,OAFAhC,GAAM,EAAI+B,KAAKC,gBAAL,MACVhC,IAAM+B,KAAKkC,eAAgBlC,KAAKpD,MAAM,KAAOoD,KAAK+C,SAAkB,IAAN,MAAa,IAAM/C,KAAKC,gBAAL,MAA8BD,KAAKC,gBAAL,WAG/G,OAAOD,KAAKC,gBAAL,EAA2BD,KAAKkC,eAAgBlC,KAAKpD,MAAM,KAAOoD,KAAK+C,SAAkB,IAAN,MAAe/C,KAAKC,gBAAL,Q,gCAI3G,MAAkB,SAAfD,KAAKpD,MACCoD,KAAKC,gBAAL,EAA0BD,KAAKC,gBAAL,WAE1BD,KAAKC,gBAAL,I,mCAIT,MAAkB,SAAfD,KAAKpD,MACCoD,KAAKC,gBAAL,MAAgCD,KAAKC,gBAAL,UAEhCD,KAAKC,gBAAL,Q,oCAIT,MAAkB,SAAfD,KAAKpD,MACCoD,KAAKC,gBAAL,OAAiCD,KAAKC,gBAAL,WAEjCD,KAAKC,gBAAL,S,gCAGA,IAAD,OACRa,YAAW,WACT,EAAKiC,UAAY,EAAKA,SACtB,EAAKrB,YACJ,IAA6B,GAAxB1B,KAAKd,aAAaqB,S,wCAI1B,MAAO,CAAC,CACNP,KAAKiD,UACLjD,KAAKkD,UACLlD,KAAKmD,aACLnD,KAAKgD,cACLhD,KAAKoD,SACLpD,KAAKqD,SACLrD,KAAKmD,aACLnD,KAAKgD,kB,8BAKJhD,KAAK8C,QAAW9C,KAAKF,UAAL,OAAyB,GAAI,GAC9CE,KAAK8C,SAAW,EAChBtC,sBAAsBR,KAAKsD,MAAM7C,KAAKT,QACjCA,KAAKuD,S,6BAITvD,KAAK8C,QAAU,GAChB9C,KAAK8C,SAAW,EAChBtC,sBAAsBR,KAAKuD,KAAK9C,KAAKT,QAChCA,KAAK6C,WAAY,I,6BAIxB7C,KAAKsD,U,kCAOKzG,EAAQ2G,GAClB,OAAO3G,GACL,IAAK,OACc,YAAd2G,EACDxD,KAAKpD,MAAQ,OACS,UAAd4G,IACRxD,KAAKpD,MAAQ,WAEf,MACF,IAAK,OACc,YAAd4G,IACGxD,KAAK6C,YACP7C,KAAK6C,WAAY,EACjB7C,KAAKd,aAAauE,QAAQC,UAAU,SACpC1D,KAAK2D,c,GAnIE/D,G,mDC+BJgE,E,WA5Bb,aAAe,oBACb5D,KAAK6D,MAAQ,IAAIC,MACjB9D,KAAK6D,MAAME,IAAMC,IAEjBhE,KAAKiE,MAAQ,IAAIH,MACjB9D,KAAKiE,MAAMF,IAAMG,IAEjBlE,KAAKmE,IAAM,IAAIL,MACf9D,KAAKmE,IAAIJ,IAAMK,I,sDAGPC,GACR,OAAOA,GACL,IAAK,QACHrE,KAAK6D,MAAMS,OACX,MACF,IAAK,MACHtE,KAAKmE,IAAIG,OACT,MACF,IAAK,QACHtE,KAAKiE,MAAMK,Y,KCsHJC,E,WA7Hb,aAAe,oBACb,IAAIC,EAASC,SAASC,cAAc,kBACpC1E,KAAK2E,IAAMH,EAAOI,WAAW,MAC7B5E,KAAK6E,MAAQ,IAAIC,MACjB9E,KAAK6E,MAAMd,IAAMgB,IACjB/E,KAAK6E,MAAMG,OAAShF,KAAKiF,WAAWxE,KAAKT,MACzCA,KAAKyD,QAAU,IAAIG,EACnB5D,KAAKkF,cAAgB,GACrBlF,KAAKmF,eAAiB,KACtBnF,KAAKoF,cAAgB,KVSvBlG,EURsBc,KVStByE,SAASY,oBAAoB,UAAWlG,GACxCsF,SAASa,iBAAiB,UAAWnG,GAErCsF,SAASY,oBAAoB,QAAS1F,GACtC8E,SAASa,iBAAiB,QAAS3F,G,yDUNjCK,KAAKO,MAAQ,EACbP,KAAKuF,MAAQ,EACbvF,KAAKwF,OAAS,GACdxF,KAAKyF,uBAELzF,KAAKwF,OAAO7E,KAAK,IAAIN,EAAQL,OAC7BA,KAAK0F,OACL1F,KAAK2F,gBACL3F,KAAK4F,iBACL5F,KAAK6F,iBACL7F,KAAK8F,uBACL9F,KAAKN,UAAY,IAAIkC,EAAK5B,MAC1BA,KAAKwF,OAAO7E,KAAKX,KAAKN,a,6CAOtB,GAAGM,KAAKmF,gBAAkBnF,KAAKoF,cAC7B,KAAMpF,KAAKoF,eAAiBpF,KAAKmF,gBAC/BY,aAAa/F,KAAKoF,iBAChBpF,KAAKoF,gB,uCAUX,IADgB,IAAD,OACPY,EAAI,EAAGA,EAAI,IAAMA,EAAG,CAC1B,IAAMC,EAAYnF,YAAW,WAC3B,EAAK0E,OAAO7E,KAAK,IAAIC,EAAM,MACR,IAAlBA,EAAMG,YAAiBiF,GAC1BhG,KAAKoF,cAAgBa,K,uCAQvB,IADgB,IAAD,OACPD,EAAI,EAAGA,EAAI,IAAMA,EACvB,GAAGA,EAAI,EAAG,CACR,IAAMC,EAAYnF,YAAW,WAC3B,EAAK0E,OAAO7E,KAAK,IAAIU,EAAY,MACR,IAAxBA,EAAYN,aAAkBiF,EAAE,IACnChG,KAAKoF,cAAgBa,MAChB,CACL,IAAMA,EAAYnF,YAAW,WAC3B,EAAK0E,OAAO7E,KAAK,IAAIW,EAAY,MACR,IAAxBA,EAAYP,aAAkBiF,EAAE,IACnChG,KAAKoF,cAAgBa,K,6CAMzB,IADsB,IAAD,OACbD,EAAI,EAAGA,EAAI,IAAMA,EAAG,CAC1B,IAAMC,EAAYnF,YAAW,WAC3B,EAAK0E,OAAO7E,KAAK,IAAIY,EAAY,MACR,IAAxBA,EAAYR,aACff,KAAKoF,cAAgBa,K,sCAOR,IAAD,OACRA,EAAYC,aAAY,mBAAQ,EAAK3F,QAAO,IAAKP,KAAKkF,eACxDlF,KAAKmF,iBAAgBnF,KAAKmF,eAAiBc,GAC/CjG,KAAKoF,cAAgBa,I,kCAOXpJ,EAAQ2G,GAClB,OAAO3G,GACL,IAAK,UACc,UAAd2G,IACDxD,KAAKyD,QAAQC,UAAU,SACvB1D,KAAKiF,iB,6BAYXjF,KAAK2E,IAAIwB,UAAU,EAAG,EAAGxI,EAAe,KAAf,MAAkCA,EAAe,KAAf,QADtD,oBAEYqC,KAAKwF,QAFjB,IAEL,IAAI,EAAJ,qBAA8B,CAAC,IAAD,EAAtBY,EAAsB,sBACLA,EAAMC,mBADD,IAC5B,IAAI,EAAJ,qBAAgD,CAAC,IAAD,EAAxC3F,EAAwC,SAC9C,EAAAV,KAAK2E,KAAI2B,UAAT,SAAuBtG,KAAK6E,OAA5B,mBAAqCnE,MAFX,gCAFzB,8BAOLF,sBAAsBR,KAAK0F,KAAKjF,KAAKT,W,KCtInCuG,E,4MACJtJ,KAAO,K,iEAEYuJ,EAAWC,EAAWC,GACpC1G,KAAK2G,MAAM5J,YAAciD,KAAK/C,KAC/B+C,KAAK/C,KAAO,IAAIsH,EACTvE,KAAK2G,MAAM5J,YAClBiD,KAAK/C,KAAO,Q,+BAId,OAAG+C,KAAK2G,MAAM5J,UAEV,yBAAK6J,GAAG,SACN,4BAAQlJ,UAAU,gBAAgBG,MAAOF,EAAe,KAAf,MAAkCG,OAAQH,EAAe,KAAf,UAG7E,S,GAjBIkJ,IAAMC,WAyBX5J,eAJS,SAAAN,GAAK,MAAK,CAChCG,UAAWH,EAAMK,KAAKF,aAGTG,CAAyBqJ,G,MChBzBQ,MATf,WACE,OACE,yBAAKrJ,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,EAAD,QCGcsJ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCTN,IAAMC,EAAQC,YAAYC,GAE1BC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,EAAD,QAGJ5C,SAASkD,eAAe,SDkHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.7e2980a0.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/press.217f1c0d.ogx\";","module.exports = __webpack_public_path__ + \"static/media/reach.70507912.ogx\";","module.exports = __webpack_public_path__ + \"static/media/hit.f77027a4.ogx\";","const gameReducer = (state = [], action) => {\n  switch(action.type) {\n    case 'START_GAME':\n      return ({ ...state, isRunning: true })\n    case 'STOP_GAME':\n      return ({ ...state, isRunning: false })\n    default:\n      return state;\n  }\n}\n\nexport default gameReducer;","import { combineReducers } from 'redux';\nimport game from './game';\n\nexport default combineReducers({\n  game\n});","import React from 'react';\nimport { connect } from 'react-redux';\nimport { startGame, stopGame } from '../actions';\n\n/*\nclass StartGame extends React.Component {\n  render() {\n    return (\n      <button\n        onClick={ e => this.props.isRunning ? this.props.dispatch(stopGame) : this.props.dispatch(startGame) }\n      >\n        {this.props.isRunning ? 'Stop Game' : 'Start Game'}\n      </button>\n    );\n  }\n}\n*/\n\n/**\n * Functional component\n */\n\nconst StartGame = ({ isRunning, stopGame, startGame }) => {\n  return (\n    <button\n      onClick={ e => isRunning ? stopGame.call(this) : startGame.call(this) }\n    >\n      {isRunning ? 'Stop Game' : 'Start Game'}\n    </button>\n  );\n}\n\nconst mapStateToProps = state => ({\n  isRunning: state.game.isRunning\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startGame: (e) => { \n    debugger\n    dispatch(startGame());\n  },\n  stopGame: () => dispatch(stopGame()) \n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartGame);","export const startGame = () => ({\n  type: 'START_GAME'\n});\n\nexport const stopGame = () => ({\n  type: 'STOP_GAME'\n});","import React from 'react';\nimport StartGame from '../containers/StartGame';\n\nconst Header = () => {\n  return (\n    <header className=\"App-header\">\n      the rushed t-rex\n      <StartGame></StartGame>\n    </header>\n  );\n}\n\nexport default Header;","const RESOLUTION = 'LDPI';\n\nexport const sceneDefinition = (() => {\n  const config = {\n    LDPI: {\n      SIZE: { width: 482, height: 150 }\n    }\n  }\n  return config[RESOLUTION];\n})();\n\nexport const spriteDefinition = (() => {\n  const config = {\n    LDPI: {\n        SIZE: { width: 1233, height: 68 },\n        CACTUS_LARGE: { x: 332, y: 2, width: 150, height: 50 },\n        CACTUS_SMALL: { x: 228, y: 2, width: 102, height: 35 },\n        CLOUD: { x: 86, y: 2, width: 46, height: 13 },\n        HORIZON: { x: 2, y: 54, width: 1198, height: 14 },\n        MOON: { x: 484, y: 2 },\n        PTERODACTYL: { x: 134, y: 2, width: 46, height: 40, heightDiff: 6 },\n        RESTART: { x: 2, y: 2 },\n        TEXT_SPRITE: { x: 655, y: 2 },\n        TREX: { x: 848, y: 2, width: 44, height: 47, widthDiff: 15, heightDiff: 17 },\n        STAR: { x: 645, y: 2 }\n    }/*,\n    HDPI: {\n        SIZE: {width: 2441, height: 130},\n        CACTUS_LARGE: { x: 652, y: 2 },\n        CACTUS_SMALL: { x: 446, y: 2 },\n        CLOUD: { x: 166, y: 2 },\n        HORIZON: { x: 2, y: 104 },\n        MOON: { x: 954, y: 2 },\n        PTERODACTYL: { x: 260, y: 2 },\n        RESTART: { x: 2, y: 2 },\n        TEXT_SPRITE: { x: 1294, y: 2 },\n        TREX: { x: 1678, y: 2 },\n        STAR: { x: 1276, y: 2 }\n    }*/\n  }\n  return config[RESOLUTION];\n})();","export const CHARACTER_INPUT = {\n  JUMP: [38, 32], // Up, spacebar\n  DOWN: [40] // Down\n};\n\nexport const GAME_INPUT = {\n  RESTART: [13] // Enter\n}\n\nlet gameInstance = null;\n\nconst keydownFn = (e) => {\n  Object.keys(GAME_INPUT).forEach((action) => {\n    if(GAME_INPUT[action].includes(e.keyCode))\n      gameInstance.handleInput(action, 'keydown');\n  });\n\n  Object.keys(CHARACTER_INPUT).forEach((action) => {\n    if(CHARACTER_INPUT[action].includes(e.keyCode))\n      gameInstance.character.handleInput(action, 'keydown');\n  });\n};\n\nconst keyupFn = (e) => {\n  Object.keys(GAME_INPUT).forEach((action) => {\n    if(GAME_INPUT[action].includes(e.keyCode))\n      gameInstance.handleInput(action, 'keyup');\n  });\n\n  Object.keys(CHARACTER_INPUT).forEach((action) => {\n    if(CHARACTER_INPUT[action].includes(e.keyCode))\n      gameInstance.character.handleInput(action, 'keyup');\n  });\n};\n\nexport const generateInputEvents = (_gameInstance) => {\n  gameInstance = _gameInstance;\n  document.removeEventListener('keydown', keydownFn);\n  document.addEventListener('keydown', keydownFn);\n\n  document.removeEventListener('keyup', keyupFn);\n  document.addEventListener('keyup', keyupFn);\n}","import { sceneDefinition, spriteDefinition } from './definitions';\n\n/**\n * Base class of all actors\n */\nclass Actor {\n  sceneSize = sceneDefinition['SIZE'];\n  spriteSize = spriteDefinition['SIZE'];\n  x = 0;\n  y = 0;\n  static spawnRange = [1, 1];\n\n  /**\n   * Initialize required properties\n   * @param {String} name \n   * @param {Game} gameInstance \n   */\n  constructor(name, gameInstance) {\n    this.name = name;\n    this.gameInstance = gameInstance;\n    this.actorProperties = spriteDefinition[name];\n  }\n\n  /**\n   * Get spaen\n   */\n  static spawnSeed() {\n    return Math.random() * (this.spawnRange[0]-this.spawnRange[1]) + this.spawnRange[1];\n  }\n\n  /**\n   * Get the coordinates to draw the element in canvas\n   */\n  drawCoordinates () {\n    return [[\n      this.actorProperties['x'],\n      this.actorProperties['y'],\n      this.actorProperties['width'],\n      this.actorProperties['height'],\n      this.x,\n      this.y,\n      this.actorProperties['width'],\n      this.actorProperties['height']\n    ]];\n  }\n}\n\nexport default Actor;","import Actor from './actor';\n\nclass Horizon extends Actor {;\n  constructor(gameInstance) {\n    super('HORIZON', gameInstance);\n\n    this.x = 0;\n    this.y = this.sceneSize['height']-this.actorProperties['height'];\n\n    this.updatePosition();\n  }\n\n  updatePosition() {\n    this.x += this.gameInstance.speed;\n    requestAnimationFrame(this.updatePosition.bind(this));\n  }\n\n  /**\n   * Get the coordinates of the one or two horizon images\n   */\n  drawCoordinates () {\n    // Restart x position counter\n    if(this.actorProperties['x']+this.x >= this.actorProperties['width'])\n      this.x = 0;\n    \n    // Main horizon image\n    let coordinates = [[\n      this.actorProperties['x']+this.x,\n      this.actorProperties['y'],\n      this.sceneSize['width'],\n      this.actorProperties['height'],\n      0,\n      this.y,\n      this.sceneSize['width'],\n      this.actorProperties['height']\n    ]];\n    // Auxiliar horizon image (when the main is finish)\n    if(this.actorProperties['x']+this.x+this.sceneSize['width'] >= this.actorProperties['width']) {\n      coordinates.push([\n        this.actorProperties['x']+this.x-this.actorProperties['width'],\n        this.actorProperties['y'],\n        this.sceneSize['width'],\n        this.actorProperties['height'],\n        0,\n        this.y,\n        this.sceneSize['width'],\n        this.actorProperties['height']\n      ])\n    }\n    return coordinates;\n  }\n}\n\nexport default Horizon;","import Actor from './actor';\n\nclass Cloud extends Actor {;\n  static spawnRange = [10, 3];\n  static yRange = [100, 10]\n\n  constructor(gameInstance) {\n    super('CLOUD', gameInstance);\n\n    this.x = this.sceneSize['width'];\n    this.y = Cloud.ySeed();\n\n    this.updatePosition();\n  }\n\n  static ySeed() {\n    return Math.floor(Math.random() * (Cloud.yRange[0] - Cloud.yRange[1]) + Cloud.yRange[1]);\n  }\n\n  updatePosition() {\n    this.x -= 0.5;\n    if(this.x+this.actorProperties['width'] < 0) {\n      setTimeout(() => {\n        this.x = this.sceneSize['width'];\n        this.y = Cloud.ySeed();\n        requestAnimationFrame(this.updatePosition.bind(this));\n      }, Cloud.spawnSeed() * 1000);\n    } else {\n      requestAnimationFrame(this.updatePosition.bind(this));\n    }\n  }\n}\n\nexport default Cloud;","import Actor from './actor';\n\nclass Cactus extends Actor {;\n  static spawnRange = [7, 4];\n\n  constructor(name, gameInstance) {\n    super(name, gameInstance);\n\n    this.x = this.sceneSize['width'];\n    this.y = this.sceneSize['height']-this.actorProperties['height'];\n    this.cactusCount = 1;\n\n    this.updatePosition();\n  }\n  \n  width() {\n    return (this.actorProperties['width']/6)*this.cactusCount;\n  }\n\n  static countSeed(){\n    return Math.floor((Math.random() * (3-1)+1));\n  }\n\n  drawCoordinates () {\n    return [[\n      this.actorProperties['x'],\n      this.actorProperties['y'],\n      this.width(),\n      this.actorProperties['height'],\n      this.x,\n      this.y,\n      this.width(),\n      this.actorProperties['height']\n    ]];\n  }\n\n  updatePosition() {\n    this.x -= this.gameInstance.speed;\n    if(this.x+this.width() < 0) {\n      setTimeout(() => {\n        this.x = this.sceneSize['width'];\n        this.cactusCount = Cactus.countSeed();\n        requestAnimationFrame(this.updatePosition.bind(this));\n      }, Cactus.spawnSeed() * 1000);\n    } else {\n      requestAnimationFrame(this.updatePosition.bind(this));\n    }\n  }\n}\n\nexport default Cactus;","import Cactus from './cactus';\n\nclass CactusSmall extends Cactus {;\n  constructor(gameInstance) {\n    super('CACTUS_SMALL', gameInstance);\n  }\n}\n\nexport default CactusSmall;","import Cactus from './cactus';\n\nclass CactusLarge extends Cactus {;\n  constructor(gameInstance) {\n    super('CACTUS_LARGE', gameInstance);\n  }\n}\n\nexport default CactusLarge;","import Actor from './actor';\n\nclass Pterodactyl extends Actor {\n  static spawnRange = [20, 5];\n  static yRange = [100, 30]\n  static speedRange = [0.5, -0.5]\n\n  constructor(gameInstance) {\n    super('PTERODACTYL', gameInstance);\n\n    this.x = this.sceneSize['width'];\n    this.y = Pterodactyl.ySeed();\n\n    this.upWingsDirection = false;\n    this.speed = this.gameInstance.speed + Pterodactyl.speedSeed();\n    this.updatePosition();\n    this.animate();\n  }\n\n  static ySeed() {\n    return Math.floor(Math.random() * (this.yRange[0] - this.yRange[1]) + this.yRange[1]);\n  }\n\n  static speedSeed() {\n    return Math.floor(Math.random() * (this.speedRange[0] - this.speedRange[1]) + this.speedRange[1]);\n  }\n\n  animate() {\n    setTimeout( () => {\n      this.upWingsDirection = !this.upWingsDirection\n      this.animate();\n    }, 250);\n  }\n\n  updatePosition() {\n    this.x -= this.speed;\n    if(this.x+this.actorProperties['width'] < 0) {\n      setTimeout(() => {\n        this.x = this.sceneSize['width'];\n        this.speed = this.gameInstance.speed + Pterodactyl.speedSeed();\n        this.y = Pterodactyl.ySeed();\n        requestAnimationFrame(this.updatePosition.bind(this));\n      }, Pterodactyl.spawnSeed() * 1000);\n    } else {\n      requestAnimationFrame(this.updatePosition.bind(this));\n    }\n  }\n\n  drawCoordinates () {\n    return [[\n      this.actorProperties['x']+(this.upWingsDirection ? this.actorProperties['width'] : 0),\n      this.actorProperties['y'],\n      this.actorProperties['width'],\n      this.actorProperties['height'],\n      this.x,\n      this.y,\n      this.actorProperties['width'],\n      this.actorProperties['height']\n    ]];\n  }\n}\n\nexport default Pterodactyl;","import Actor from './actor';\n\nclass Trex extends Actor {\n  STATES = {\n    STAND: 'STAND',\n    RUNNING: 'RUNNING',\n    JUMPING: 'JUMPING',\n    DEATH: 'DEATH',\n    DOWN: 'DOWN'\n  };\n\n  STATE_POSITION = {\n    STAND_0: 0,\n    STAND_1: 1,\n    JUMPING_0: 0,\n    JUMPING_1: 0,\n    RUNNING_0: 2,\n    RUNNING_1: 3,\n    DEATH_0: 4,\n    DEATH_1: 5,\n    DOWN_0: 6,\n    DOWN_1: 7\n  };\n\n  state = 'RUNNING';\n  isJumping = false;\n  offsetY = 0;\n  position = false;\n  \n  constructor(gameInstance) {\n    super('TREX', gameInstance);\n    this.animate();\n  }\n\n  changeState(state) {\n    this.state = state;\n  }\n\n  actorX() {\n    return 20;\n  }\n\n  actorY() {\n    return this.offsetY + this.sceneSize['height'] - this.actorHeight();\n  }\n\n  spriteX() {\n    if(this.state === 'DOWN') {\n      let x = this.actorProperties['x'];\n      x += (6 * this.actorProperties['width']);\n      x += (this.STATE_POSITION[(this.state+'_'+((!this.position) ? '0' : '1'))]-6) * (this.actorProperties['width']+this.actorProperties['widthDiff']);\n      return x;\n    } else\n      return this.actorProperties['x']+(this.STATE_POSITION[(this.state+'_'+((!this.position) ? '0' : '1'))] * this.actorProperties['width'])\n  }\n\n  spriteY() {\n    if(this.state === 'DOWN')\n      return this.actorProperties['y']+this.actorProperties['heightDiff'];\n    else\n      return this.actorProperties['y'];\n  }\n\n  actorWidth() {\n    if(this.state === 'DOWN')\n      return this.actorProperties['width'] + this.actorProperties['widthDiff'];\n    else\n      return this.actorProperties['width'];\n  }\n\n  actorHeight() {\n    if(this.state === 'DOWN')\n      return this.actorProperties['height'] - this.actorProperties['heightDiff'];\n    else\n      return this.actorProperties['height']\n  }\n\n  animate() {\n    setTimeout(() => {\n      this.position = !this.position\n      this.animate();\n    }, 300-(this.gameInstance.speed*10));\n  }\n\n  drawCoordinates () {\n    return [[\n      this.spriteX(),\n      this.spriteY(),\n      this.actorWidth(),\n      this.actorHeight(),\n      this.actorX(),\n      this.actorY(),\n      this.actorWidth(),\n      this.actorHeight(),\n    ]];\n  }\n\n  raise() {\n    if(this.offsetY > (this.sceneSize['height']/4)*-2) {\n      this.offsetY -= 5;\n      requestAnimationFrame(this.raise.bind(this));\n    } else this.fall();\n  }\n\n  fall () {\n    if(this.offsetY < 0) {\n      this.offsetY += 5;\n      requestAnimationFrame(this.fall.bind(this));\n    } else this.isJumping = false;\n  }\n\n  jump() {\n    this.raise()\n  }\n\n  /**\n   * Handle game input actions\n   * @param {String} action \n   */\n  handleInput(action, keyAction) {\n    switch(action) {\n      case 'DOWN':\n        if(keyAction === 'keydown') {\n          this.state = 'DOWN';\n        } else if(keyAction === 'keyup') {\n          this.state = 'RUNNING'; \n        }\n        break;\n      case 'JUMP':\n        if(keyAction === 'keydown') {\n          if(!this.isJumping) {\n            this.isJumping = true;\n            this.gameInstance.soundFx.playSound('PRESS');\n            this.jump();\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport default Trex;","import pressSound from '../assets/sounds/press.ogx';\nimport reachSound from '../assets/sounds/reach.ogx';\nimport hitSound from '../assets/sounds/hit.ogx';\n\nclass SoundFx {\n  constructor() {\n    this.press = new Audio()\n    this.press.src = pressSound;\n\n    this.reach = new Audio()\n    this.reach.src = reachSound;\n\n    this.hit = new Audio()\n    this.hit.src = hitSound;\n  }\n\n  playSound(sound) {\n    switch(sound) {\n      case 'PRESS':\n        this.press.play();\n        break;\n      case 'HIT':\n        this.hit.play();\n        break;\n      case 'REACH':\n        this.reach.play();\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport default SoundFx;","import sprite from '../assets/images/100-offline-sprite.png';\nimport { sceneDefinition } from './definitions';\nimport { generateInputEvents } from './input';\nimport Horizon from './horizon';\nimport Cloud from './cloud';\nimport CactusSmall from './cactus-small';\nimport CactusLarge from './cactus-large';\nimport Pterodactyl from './pterodactyl';\nimport Trex from './trex';\nimport SoundFx from './soundfx';\n\n/**\n * Main game class that manages all the game logic\n */\nclass Game {\n  /**\n   * Initialize the game instance drawing all the elements needed\n   */\n  constructor() {\n    let canvas = document.querySelector('.runner-canvas');\n    this.ctx = canvas.getContext('2d');\n    this.image = new Image();\n    this.image.src = sprite;\n    this.image.onload = this.initialize.bind(this);\n    this.soundFx = new SoundFx();\n    this.levelDuration = 15;\n    this.firstTimeoutId = null;\n    this.lastTimeoutId = null;\n    generateInputEvents(this);\n  }\n\n  /**\n   * Generate all actors in scene\n   */\n  initialize() {\n    this.speed = 5;\n    this.score = 0;\n    this.actors = [];\n    this.removePendingActions();\n\n    this.actors.push(new Horizon(this));\n    this.draw();\n    this.increaseSpeed();\n    this.generateClouds();\n    this.generateCactus();\n    this.generatePterodactyls();\n    this.character = new Trex(this);\n    this.actors.push(this.character);\n  }\n\n  /**\n   * Remove pending spawns\n   */\n  removePendingActions() {\n    if(this.firstTimeoutId && this.lastTimeoutId) {\n      while(this.lastTimeoutId >= this.firstTimeoutId) {\n        clearTimeout(this.lastTimeoutId)\n        --this.lastTimeoutId;\n      }\n    }\n  }\n \n  /**\n   * Generate 7 random clouds\n   * When the clouds are not in scene spawn again between 3 and 10 seconds\n   */\n  generateClouds() {\n    for(let i = 0; i < 5 ; ++i) {\n      const timeoutId = setTimeout(() => {\n        this.actors.push(new Cloud(this));\n      }, Cloud.spawnSeed()*1000*i);\n      this.lastTimeoutId = timeoutId;\n    }\n  }\n\n  /**\n   * Generate 5 cactus 3 small and 2 large of different sizes\n   */\n  generateCactus() {\n    for(let i = 0; i < 4 ; ++i) {\n      if(i < 2) {\n        const timeoutId = setTimeout(() => {\n          this.actors.push(new CactusSmall(this));\n        }, CactusSmall.spawnSeed()*1000*(i+1));  \n        this.lastTimeoutId = timeoutId;\n      } else {\n        const timeoutId = setTimeout(() => {\n          this.actors.push(new CactusLarge(this));\n        }, CactusLarge.spawnSeed()*1000*(i+1));  \n        this.lastTimeoutId = timeoutId;\n      }\n    }\n  }\n\n  generatePterodactyls() {\n    for(let i = 0; i < 3 ; ++i) {\n      const timeoutId = setTimeout(() => {\n        this.actors.push(new Pterodactyl(this));\n      }, Pterodactyl.spawnSeed()*1000);\n      this.lastTimeoutId = timeoutId;\n    }\n  }\n\n  /**\n   * Increase game speed n seconds\n   */\n  increaseSpeed() {\n    const timeoutId = setInterval(() => ++this.speed, 1000*this.levelDuration);\n    if(!this.firstTimeoutId) this.firstTimeoutId = timeoutId;\n    this.lastTimeoutId = timeoutId;\n  }\n\n  /**\n   * Handle game input actions\n   * @param {String} action \n   */\n  handleInput(action, keyAction) {\n    switch(action) {\n      case 'RESTART':\n        if(keyAction === 'keyup') {\n          this.soundFx.playSound('REACH');\n          this.initialize();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Draw all actors in scene\n   */\n  draw() {\n    this.ctx.clearRect(0, 0, sceneDefinition['SIZE']['width'], sceneDefinition['SIZE']['height']);\n    for(let actor of this.actors) {\n      for(let coordinates of actor.drawCoordinates()) {\n        this.ctx.drawImage(...[this.image,...coordinates]);\n      }\n    }\n    requestAnimationFrame(this.draw.bind(this));\n  }\n}\n\nexport default Game;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { sceneDefinition } from '../game/definitions';\nimport Game from '../game';\n\nclass Scene extends React.Component {\n  game = null;\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(this.props.isRunning && !this.game)\n      this.game = new Game();\n    else if(!this.props.isRunning)\n      this.game = null;\n  }\n\n  render() {\n    if(this.props.isRunning)\n      return (\n        <div id=\"scene\">\n          <canvas className=\"runner-canvas\" width={sceneDefinition['SIZE']['width']} height={sceneDefinition['SIZE']['height']}></canvas>\n        </div>\n      );\n    else return null;\n  }\n}\n\nconst mapStateToProps = state => ({\n  isRunning: state.game.isRunning\n});\n\nexport default connect(mapStateToProps)(Scene);","import React from 'react';\nimport Header from './components/Header';\nimport Scene from './components/Scene';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Scene />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport {Â Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers'\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(rootReducer)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}